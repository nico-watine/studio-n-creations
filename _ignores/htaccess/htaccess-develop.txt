# ---------------------------------------------------------------------
# |            Apache Server Configs v2.14.0 | MIT License            |
# ---------------------------------------------------------------------


# ----------------------------------------------------------------------
# | Cross-origin images                                                |
# ----------------------------------------------------------------------

<IfModule mod_setenvif.c>
    <IfModule mod_headers.c>
        <FilesMatch "\.(bmp|cur|gif|ico|jpe?g|png|svgz?|webp)$">
            SetEnvIf Origin ":" IS_CORS
            Header set Access-Control-Allow-Origin "*" env=IS_CORS
        </FilesMatch>
    </IfModule>
</IfModule>


# ----------------------------------------------------------------------
# | Error prevention                                                   |
# ----------------------------------------------------------------------

Options -MultiViews


# ----------------------------------------------------------------------
# | Custom error messages/pages                                        |
# ----------------------------------------------------------------------

ErrorDocument 403 /403.html

ErrorDocument 404 /404.html


# ----------------------------------------------------------------------
# | Character encodings                                                |
# ----------------------------------------------------------------------

<IfModule mod_mime.c>
    AddCharset utf-8 .js \
                     .json \
                     .jsonld \
                     .manifest
</IfModule>


# ----------------------------------------------------------------------
# | Rewrite engine                                                     |
# ----------------------------------------------------------------------

<IfModule mod_rewrite.c>

    RewriteEngine On

    Options +FollowSymlinks

    RewriteCond %{HTTPS} =on
    RewriteRule ^ - [env=proto:https]
    RewriteCond %{HTTPS} !=on
    RewriteRule ^ - [env=proto:http]

</IfModule>


# ------------------------------------------------------------------------------
# | Rules for Versioned Static Files
# ------------------------------------------------------------------------------

RewriteRule ^(js|css)/(.+)\.(.+)\.(js|css)$ $1/$2.$4 [L]


# ---------------------------------------
# |            URL Redirects            |
# ---------------------------------------

# /our-services -> /our-services/web-development
RewriteCond %{HTTP_HOST} ^studioncreations\.com$ [OR]
RewriteCond %{HTTP_HOST} ^www\.studioncreations\.com$
RewriteRule ^our\-services$ "http\:\/\/studioncreations\.com\/our\-services\/web\-development" [R=301,L]

# /our-services/index -> /our-services/web-development
RewriteCond %{HTTP_HOST} ^studioncreations\.com$ [OR]
RewriteCond %{HTTP_HOST} ^www\.studioncreations\.com$
RewriteRule ^our\-services\/index$ "http\:\/\/studioncreations\.com\/our\-services\/web\-development" [R=301,L]

# /our-services/ -> /our-services/web-development
RewriteCond %{HTTP_HOST} ^studioncreations\.com$ [OR]
RewriteCond %{HTTP_HOST} ^www\.studioncreations\.com$
RewriteRule ^our\-services\/$ "http\:\/\/studioncreations\.com\/our\-services\/web\-development" [R=301,L]

